<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Getting Started - Policy Machine</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting Started";
    var mkdocs_page_input_path = "getting-started.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Policy Machine</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="tocbase current">
    
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="..">Introduction</a>
  </li>
    
      


  
    
    <li class="navtree toctree-l1 page current">
      <a class="current" href="./">
        Getting Started
      </a>
    </li>
    
      



  <li class="toctree-l1 current">
    <ul class="subnav-l1 current">
    
      
          

  <li class="toctree-l2 current with-children">
    <a href="#standalone-java-library">
      Standalone Java Library
      <span class="toctree-expand"></span>
    </a>
  </li>



  <li class="toctree-l2 current">
    <ul class="subnav-l2 current">
    
      
        <li class="toctree-l3">
          <a class="toctree-l4" href="#build-policy-machine-jar-library">Build Policy Machine JAR Library</a>
        </li>
    
      
        <li class="toctree-l3">
          <a class="toctree-l4" href="#example">Example</a>
        </li>
    
    </ul>
  </li>

      
    
    </ul>
  </li>


  
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../api/">REST API</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../examples/">Examples</a>
  </li>
    
      


  <li class="navtree toctree-l1 inactive">
    <a class="" href="../contact/">Contact Us</a>
  </li>
    
  </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Policy Machine</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Getting Started</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="getting-started">Getting Started</h1>
<h2 id="standalone-java-library">Standalone Java Library</h2>
<p>The REST API provides tools to create NGAC aware applications but requires a certain level of already developed infrastructure to really be useful.  If you are looking to just experiment with NGAC graphs and use cases, you can use the Policy Decision Point (PDP), Event Processing Point (EPP), and the Policy Access Point (PAP) packages to test different NGAC policy configurations in your own environments.</p>
<h3 id="build-policy-machine-jar-library">Build Policy Machine JAR Library</h3>
<ol>
<li>In <strong>pom.xml</strong> change <code>&lt;packaging&gt;war&lt;/packaging&gt;</code> to <code>&lt;packaging&gt;jar&lt;/packaging&gt;</code>.</li>
<li>Run <code>mvn package</code> from the project root.</li>
<li><code>pm.jar</code> will be created in /target/.  </li>
<li>Add <code>pm.jar</code> to your classpath.
Examples can be found below and in <a href="/examples/#standalone-examples">examples</a></li>
</ol>
<h3 id="example">Example</h3>
<p>This is an example of building a simple graph, with one of each type of node. We will use the <code>listPermissions</code> function to compute all the permissions <code>u1</code> has on <code>o1</code>.</p>
<pre><code>// create a new in memory graph
Graph graph = new MemGraph();

// create a node for each type
long pc1ID = graph.createNode(new NodeContext(1, &quot;pc1&quot;, PC, NodeUtils.toProperties(&quot;key1&quot;, &quot;value1&quot;)));
long oa1ID = graph.createNode(new NodeContext(2, &quot;oa1&quot;, OA, NodeUtils.toProperties(&quot;key1&quot;, &quot;value1&quot;)));
long o1ID = graph.createNode(new NodeContext(3, &quot;o1&quot;, O, NodeUtils.toProperties(&quot;key1&quot;, &quot;value1&quot;)));
long ua1ID = graph.createNode(new NodeContext(4, &quot;ua1&quot;, UA, NodeUtils.toProperties(&quot;key1&quot;, &quot;value1&quot;)));
long u1ID = graph.createNode(new NodeContext(5, &quot;u1&quot;, U, NodeUtils.toProperties(&quot;key1&quot;, &quot;value1&quot;)));

// create assignments
graph.assign(new NodeContext(o1ID, O), new NodeContext(oa1ID, OA));
graph.assign(new NodeContext(oaID1, OA), new NodeContext(pc1ID, PC));
graph.assign(new NodeContext(u1ID, U), new NodeContext(ua1ID, UA));
graph.assign(new NodeContext(ua1ID, UA), new NodeContext(pc1ID, PC));

// create an association
graph.associate(new NodeContext(ua1ID, UA), new NodeContext(oa1ID, OA), new HashSet&lt;&gt;(Arrays.asList(&quot;read&quot;, &quot;write&quot;)));

// create a prohibition for u1 on oa1
Prohibition prohibition = new Prohibition();
prohibition.setName(&quot;test_deny&quot;);
prohibition.setSubject(new ProhibitionSubject(u1, ProhibitionSubjectType.U));
prohibition.setIntersection(false);
prohibition.setOperations(new HashSet&lt;&gt;(Arrays.asList(&quot;read&quot;)));
prohibition.addNode(new ProhibitionNode(oa1, false));

// create a new policy decider with the in memory graph and a list of prohibitions
Decider decider = new PReviewDecider(graph, Arrays.asList(prohibition));

// print the list of permissions that u1 has on o1
System.out.println(decider.listPermissions(u1, NO_PROCESS, o1));// print [&quot;read&quot;, &quot;write&quot;]
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../api/" class="btn btn-neutral float-right" title="REST API">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Introduction"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../api/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
